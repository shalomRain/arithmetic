<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       * @param {number[]} nums
       * @param {number} target
       * @return {number}
       */

      var searchInsert = function (nums, target) {
        let index = nums.indexOf(target);

        // 判断是否存在
        if (index > -1) {
          return index;
        }
        let startIndex = 0;
        let endIndex = nums.length - 1;

        if (target < nums[startIndex]) {
          return startIndex;
        } else if (target > nums[endIndex]) {
          return nums.length;
        } else {
          // 2> mid >1 跳出循环
          let count = 0;
          while (endIndex - startIndex != 1) {
            count++;
            let mid = Math.floor((startIndex + endIndex) / 2);
            if (target > nums[mid]) {
              // 目标值大于中位数
              startIndex = mid; // 开始坐标变成mid
            } else if (target < nums[mid]) {
              endIndex = mid; // 结束坐标变成mid
            }
          }
          if (count) return endIndex;
          return 1;
        }

        // let newNums = [...nums,target]
        // newNums = newNums.sort((a,b)=> a-b)
        // return newNums.indexOf(target)
      };

      console.log(searchInsert([1, 3], 7));
      console.log(searchInsert([1, 3, 5, 6], 5));
      console.log(searchInsert([1, 3, 5, 6], 2));
      console.log(searchInsert([1, 3, 5], 4));
      console.log(searchInsert([1, 3, 5, 6], 0));
    </script>
  </body>
</html>
