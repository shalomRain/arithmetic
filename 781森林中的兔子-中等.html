<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       * @param {number[]} answers
       * @return {number}
       */
      //森林中，每个兔子都有颜色。其中一些兔子（可能是全部）告诉你还有多少其他的兔子和自己有相同的颜色。我们将这些回答放在 answers 数组里。
      let answers = [1,0,3,7,2,1,1,2,3,4] // 
      // [0,0,0,0,0] 5                  5/1 = 5 .. 0 => 1*5
      // [1,1,1,1,1] 2 + 2 + 1 + 1= 6   5/2 = 2 .. 1 => 2*2 + 2
      // [2,2,2,2,2] 3 + 3 = 6          5/3 = 1 .. 2 => 1*3 + 3
      // [3,3,3,3,3]                    5/4 = 1 .. 1 => 1*4 + 4
      var numRabbits = function (answers) {
        let obj = {}
        for (let i = 0; i < answers.length; i++) {
          if (obj[answers[i]] >= 0) {
            obj[answers[i]]++
          } else {
            obj[answers[i]] = 1
          }
        }
        let sum = 0
        for (let key in obj) {
          key = Number(key)
          let integer = parseInt(obj[key] / (1 + key))
          let remainder = 0
          if (integer != obj[key] / (1 + key)) {
            remainder = 1 + key
          }
          sum += integer * (1 + key) + remainder
        }
        return sum
      }

      numRabbits(answers)
    </script>
  </body>
</html>
